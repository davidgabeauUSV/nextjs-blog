{"ast":null,"code":"import Iron from '@hapi/iron';\nimport { getTokenCookie } from './auth-cookies'; // Use an environment variable here instead of a hardcoded value for production\n\nconst TOKEN_SECRET = 'this-is-a-secret-value-with-at-least-32-characters';\nexport function encryptSession(session) {\n  return Iron.seal(session, TOKEN_SECRET, Iron.defaults);\n}\nexport async function getSession(req) {\n  const token = getTokenCookie(req);\n  return token && Iron.unseal(token, TOKEN_SECRET, Iron.defaults);\n}","map":{"version":3,"sources":["/Users/davidgabeau/Desktop/glo/nextjs-blog/with-magic-app/lib/iron.js"],"names":["Iron","getTokenCookie","TOKEN_SECRET","encryptSession","session","seal","defaults","getSession","req","token","unseal"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,YAAjB;AACA,SAASC,cAAT,QAA+B,gBAA/B,C,CAEA;;AACA,MAAMC,YAAY,GAAG,oDAArB;AAEA,OAAO,SAASC,cAAT,CAAwBC,OAAxB,EAAiC;AACtC,SAAOJ,IAAI,CAACK,IAAL,CAAUD,OAAV,EAAmBF,YAAnB,EAAiCF,IAAI,CAACM,QAAtC,CAAP;AACD;AAED,OAAO,eAAeC,UAAf,CAA0BC,GAA1B,EAA+B;AACpC,QAAMC,KAAK,GAAGR,cAAc,CAACO,GAAD,CAA5B;AACA,SAAOC,KAAK,IAAIT,IAAI,CAACU,MAAL,CAAYD,KAAZ,EAAmBP,YAAnB,EAAiCF,IAAI,CAACM,QAAtC,CAAhB;AACD","sourcesContent":["import Iron from '@hapi/iron'\nimport { getTokenCookie } from './auth-cookies'\n\n// Use an environment variable here instead of a hardcoded value for production\nconst TOKEN_SECRET = 'this-is-a-secret-value-with-at-least-32-characters'\n\nexport function encryptSession(session) {\n  return Iron.seal(session, TOKEN_SECRET, Iron.defaults)\n}\n\nexport async function getSession(req) {\n  const token = getTokenCookie(req)\n  return token && Iron.unseal(token, TOKEN_SECRET, Iron.defaults)\n}\n"]},"metadata":{},"sourceType":"module"}